webpackJsonp([4],{D7p0:function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),i=s("vLgD");var t=s("zL8q"),n=s("NYxO"),l={data:function(){return{has:Number,isShow:!1,options:[],is_edit:0,form:{fullname:"",sex:"",nation:"",age:"",schoolnum:"",major:"",classes:"",phone:"",email:"",idcard:"",birthday:"",origin:"",f_phone:"",m_phone:""},rules:{sex:[{required:!0,message:"请选择性别",trigger:"change"}],major:[{required:!0,message:"请选择专业",trigger:"change"}],birthday:[{required:!0,message:"请选择日期",trigger:"change"}],nation:[{required:!0,message:"请填写民族",trigger:"blur"}],fullname:[{required:!0,message:"请填写姓名",trigger:"blur"}],phone:[{required:!0,message:"请填写手机号",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],idcard:[{required:!0,message:"请填写身份证号",trigger:"blur"}],origin:[{required:!0,message:"请填写籍贯",trigger:"blur"}],age:[{required:!0,message:"请填写年龄",trigger:"blur"}],classes:[{required:!0,message:"请填写班级",trigger:"blur"}],schoolnum:[{required:!0,message:"请填写校号",trigger:"blur"},{min:7,max:11,message:"长度在 7 到 11 个字符",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.form.validate(function(o){var s;e.form.l_id=e.l_id,o&&(s=e.form,Object(i.a)({url:"/api/info/setInfo",method:"post",data:{l_id:s.l_id,fullname:s.fullname,sex:s.sex,nation:s.nation,age:s.age,schoolnum:s.schoolnum,major:s.major,classes:s.classes,phone:s.phone,email:s.email,idcard:s.idcard,birthday:s.birthday,origin:s.origin,f_phone:s.f_phone,m_phone:s.m_phone}})).then(function(o){Object(t.Message)({message:o.msg,type:"success",duration:5e3}),e.isShow=!1}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},getMajorList:function(){var e=this;Object(i.a)({url:"/api/enum/major",method:"post",data:{type:"1"}}).then(function(o){e.options=o.result}).catch(function(e){console.log(e)})},getInfomation:function(){var e,o=this;(e=this.l_id,Object(i.a)({url:"/api/info/getInfo",method:"post",data:{l_id:e}})).then(function(e){1===e.result.has?(o.form=e.result,o.has=e.result.has,o.is_edit=e.result.is_edit,o.isShow=!1):o.isShow=!0}).catch(function(e){console.log(e)})}},computed:a()({},Object(n.b)(["l_id"])),mounted:function(){},created:function(){this.getMajorList(),this.getInfomation()}},m={render:function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"app-container"},[s("el-row",[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"姓名：",prop:"fullname"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.fullname,callback:function(o){e.$set(e.form,"fullname",o)},expression:"form.fullname"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.fullname)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[s("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.sex,callback:function(o){e.$set(e.form,"sex",o)},expression:"form.sex"}},[s("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"0"}},[e._v("女")])],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(0===e.form.sex?"女":"男")}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"年龄：",prop:"age"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.age,callback:function(o){e.$set(e.form,"age",o)},expression:"form.age"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.age)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.nation,callback:function(o){e.$set(e.form,"nation",o)},expression:"form.nation"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.nation)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"专业：",prop:"major"}},[s("el-select",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{placeholder:"请选择"},model:{value:e.form.major,callback:function(o){e.$set(e.form,"major",o)},expression:"form.major"}},e._l(e.options,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(1===e.form.major?"网络工程":"信息管理")}})],1),e._v(" "),s("el-form-item",{attrs:{label:"校号：",prop:"schoolnum"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.schoolnum,callback:function(o){e.$set(e.form,"schoolnum",o)},expression:"form.schoolnum"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.schoolnum)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"班级：",prop:"classes"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.classes,callback:function(o){e.$set(e.form,"classes",o)},expression:"form.classes"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.classes)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.phone,callback:function(o){e.$set(e.form,"phone",o)},expression:"form.phone"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.phone)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.email,callback:function(o){e.$set(e.form,"email",o)},expression:"form.email"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.email)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证号：",prop:"idcard"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.idcard,callback:function(o){e.$set(e.form,"idcard",o)},expression:"form.idcard"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.idcard)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"生日：",prop:"birthday"}},[s("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{size:"large","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.birthday,callback:function(o){e.$set(e.form,"birthday",o)},expression:"form.birthday"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.birthday)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"籍贯：",prop:"origin"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.origin,callback:function(o){e.$set(e.form,"origin",o)},expression:"form.origin"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.origin)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"母亲联系方式：",prop:"m_phone"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.m_phone,callback:function(o){e.$set(e.form,"m_phone",o)},expression:"form.m_phone"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.m_phone)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"父亲联系方式：",prop:"f_phone"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.f_phone,callback:function(o){e.$set(e.form,"f_phone",o)},expression:"form.f_phone"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.f_phone)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",[e.isShow?s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]):e._e(),e._v(" "),0===e.has?s("el-button",{on:{click:function(o){e.resetForm("form")}}},[e._v("重置")]):e._e(),e._v(" "),1===e.has&&e.isShow?s("el-button",{on:{click:function(o){e.isShow=!1}}},[e._v("取消")]):e._e(),e._v(" "),e.isShow||"1"!==e.is_edit?e._e():s("el-button",{attrs:{type:"primary"},on:{click:function(o){e.isShow=!0}}},[e._v("编辑")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var h=s("VU/8")(l,m,!1,function(e){s("tVq0")},"data-v-3ee7df2a",null);o.default=h.exports},Hq6x:function(e,o,s){(e.exports=s("FZ+f")(!1)).push([e.i,"\n.el-date-editor.el-input[data-v-3ee7df2a] {\r\n  width: 100%;\n}\n.el-select[data-v-3ee7df2a] {\r\n  width: 100%;\n}\n[v-cloak][data-v-3ee7df2a] { display: none\n}\r\n",""])},tVq0:function(e,o,s){var r=s("Hq6x");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("01bcb05a",r,!0)}});