webpackJsonp([10],{JMPO:function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=o("Dd8w"),a=o.n(r),t=o("8Y0W"),i=o("9JVh"),n=o("zL8q"),l=o("NYxO"),m={data:function(){return{has:Number,isShow:!1,options:[],is_edit:0,form:{fullname:"",sex:"",nation:"",age:"",worknum:"",major:"",classes:"",phone:"",email:"",idcard:"",birthday:"",origin:""},rules:{sex:[{required:!0,message:"请选择性别",trigger:"change"}],major:[{required:!0,message:"请选择专业",trigger:"change"}],birthday:[{required:!0,message:"请选择日期",trigger:"change"}],nation:[{required:!0,message:"请填写民族",trigger:"blur"}],fullname:[{required:!0,message:"请填写姓名",trigger:"blur"}],phone:[{required:!0,message:"请填写手机号",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],idcard:[{required:!0,message:"请填写身份证号",trigger:"blur"}],origin:[{required:!0,message:"请填写籍贯",trigger:"blur"}],age:[{required:!0,message:"请填写年龄",trigger:"blur"}],classes:[{required:!0,message:"请填写班级",trigger:"blur"}],worknum:[{required:!0,message:"请填写工号",trigger:"blur"},{min:7,max:11,message:"长度在 7 到 11 个字符",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.form.validate(function(s){e.form.l_id=e.l_id,s&&Object(t.f)(e.form).then(function(s){Object(n.Message)({message:s.msg,type:"success",duration:5e3}),e.isShow=!1}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},getMajorList:function(){var e=this;Object(i.a)().then(function(s){e.options=s.result}).catch(function(e){console.log(e)})},getInfomation:function(){var e=this;Object(t.c)(this.l_id).then(function(s){"1"===s.result.has?(e.form=s.result,e.has=s.result.has,e.isShow=!1):(e.form.worknum=s.result.worknum,e.form.major=s.result.major,e.form.classes=s.result.classes,e.has=s.result.has,e.isShow=!0)}).catch(function(e){console.log(e)})}},computed:a()({},Object(l.b)(["l_id"])),mounted:function(){},created:function(){this.getMajorList(),this.getInfomation()}},c={render:function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{staticClass:"app-container"},[o("el-row",[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"姓名：",prop:"fullname"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.fullname,callback:function(s){e.$set(e.form,"fullname",s)},expression:"form.fullname"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.fullname)}})],1),e._v(" "),o("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[o("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.sex,callback:function(s){e.$set(e.form,"sex",s)},expression:"form.sex"}},[o("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),o("el-radio",{attrs:{label:"0"}},[e._v("女")])],1),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(0===e.form.sex?"女":"男")}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"年龄：",prop:"age"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.age,callback:function(s){e.$set(e.form,"age",s)},expression:"form.age"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.age)}})],1),e._v(" "),o("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.nation,callback:function(s){e.$set(e.form,"nation",s)},expression:"form.nation"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.nation)}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"专业：",prop:"major"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{disabled:!0,placeholder:"请选择"},model:{value:e.form.major,callback:function(s){e.$set(e.form,"major",s)},expression:"form.major"}},e._l(e.options,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(1===e.form.major?"网络工程":"信息管理")}})],1),e._v(" "),o("el-form-item",{attrs:{label:"工号：",prop:"worknum"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{disabled:!0},model:{value:e.form.worknum,callback:function(s){e.$set(e.form,"worknum",s)},expression:"form.worknum"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.worknum)}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"班级：",prop:"classes"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{disabled:!0},model:{value:e.form.classes,callback:function(s){e.$set(e.form,"classes",s)},expression:"form.classes"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.classes)}})],1),e._v(" "),o("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.phone,callback:function(s){e.$set(e.form,"phone",s)},expression:"form.phone"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.phone)}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.email)}})],1),e._v(" "),o("el-form-item",{attrs:{label:"身份证号：",prop:"idcard"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.idcard,callback:function(s){e.$set(e.form,"idcard",s)},expression:"form.idcard"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.idcard)}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"生日：",prop:"birthday"}},[o("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{size:"large","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.birthday,callback:function(s){e.$set(e.form,"birthday",s)},expression:"form.birthday"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.birthday)}})],1),e._v(" "),o("el-form-item",{attrs:{label:"籍贯：",prop:"origin"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.origin,callback:function(s){e.$set(e.form,"origin",s)},expression:"form.origin"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.origin)}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",[e.isShow?o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]):e._e(),e._v(" "),e.has?e._e():o("el-button",{on:{click:function(s){e.resetForm("form")}}},[e._v("重置")]),e._v(" "),!e.isShow&&e.has?o("el-button",{attrs:{type:"primary"},on:{click:function(s){e.isShow=!0}}},[e._v("编辑")]):e._e(),e._v(" "),e.isShow&&e.has?o("el-button",{on:{click:function(s){e.isShow=!1}}},[e._v("取消")]):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var h=o("VU/8")(m,c,!1,function(e){o("oS0Z")},"data-v-02caa999",null);s.default=h.exports},Wpzs:function(e,s,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.el-date-editor.el-input[data-v-02caa999] {\r\n  width: 100%;\n}\n.el-select[data-v-02caa999] {\r\n  width: 100%;\n}\n[v-cloak][data-v-02caa999] {\r\n  display: none;\n}\r\n",""])},oS0Z:function(e,s,o){var r=o("Wpzs");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("ea470920",r,!0)}});