webpackJsonp([6],{D7p0:function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),t=s("ts7I"),i=s("9JVh"),n=s("zL8q"),l=s("NYxO"),m={data:function(){return{has:Number,isShow:!1,options:[],is_edit:0,form:{fullname:"",sex:"",nation:"",age:"",schoolnum:"",major:"",classes:"",phone:"",email:"",idcard:"",birthday:"",origin:"",f_phone:"",m_phone:""},rules:{sex:[{required:!0,message:"请选择性别",trigger:"change"}],major:[{required:!0,message:"请选择专业",trigger:"change"}],birthday:[{required:!0,message:"请选择日期",trigger:"change"}],nation:[{required:!0,message:"请填写民族",trigger:"blur"}],fullname:[{required:!0,message:"请填写姓名",trigger:"blur"}],phone:[{required:!0,message:"请填写手机号",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],idcard:[{required:!0,message:"请填写身份证号",trigger:"blur"}],origin:[{required:!0,message:"请填写籍贯",trigger:"blur"}],age:[{required:!0,message:"请填写年龄",trigger:"blur"}],classes:[{required:!0,message:"请填写班级",trigger:"blur"}],schoolnum:[{required:!0,message:"请填写校号",trigger:"blur"},{min:7,max:11,message:"长度在 7 到 11 个字符",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.form.validate(function(o){e.form.l_id=e.l_id,o&&Object(t.d)(e.form).then(function(o){Object(n.Message)({message:o.msg,type:"success",duration:5e3}),e.isShow=!1}).catch(function(e){console.log(e)})})},onSubmitUpdate:function(){var e=this;this.$refs.form.validate(function(o){e.form.l_id=e.l_id,o&&Object(t.e)(e.form).then(function(o){Object(n.Message)({message:o.msg,type:"success",duration:5e3}),e.isShow=!1}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},getMajorList:function(){var e=this;Object(i.a)().then(function(o){e.options=o.result}).catch(function(e){console.log(e)})},getInfomation:function(){var e=this;Object(t.b)(this.l_id).then(function(o){1===o.result.has?(e.form=o.result,e.has=o.result.has,e.is_edit=o.result.is_edit,e.isShow=!1):(e.form.schoolnum=o.result.schoolnum,e.form.major=o.result.major,e.form.classes=o.result.classes,e.is_edit=o.result.is_edit,e.has=o.result.has,e.isShow=!0)}).catch(function(e){console.log(e)})}},computed:a()({},Object(l.b)(["l_id"])),mounted:function(){},created:function(){this.getMajorList(),this.getInfomation()}},h={render:function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"app-container"},[s("el-row",[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"姓名：",prop:"fullname"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.fullname,callback:function(o){e.$set(e.form,"fullname",o)},expression:"form.fullname"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.fullname)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[s("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.sex,callback:function(o){e.$set(e.form,"sex",o)},expression:"form.sex"}},[s("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"0"}},[e._v("女")])],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s("0"===e.form.sex?"女":"男")}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"年龄：",prop:"age"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.age,callback:function(o){e.$set(e.form,"age",o)},expression:"form.age"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.age)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.nation,callback:function(o){e.$set(e.form,"nation",o)},expression:"form.nation"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.nation)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"专业：",prop:"major"}},[s("el-select",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{placeholder:"请选择"},model:{value:e.form.major,callback:function(o){e.$set(e.form,"major",o)},expression:"form.major"}},e._l(e.options,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(1===e.form.major?"网络工程":"信息管理")}})],1),e._v(" "),s("el-form-item",{attrs:{label:"校号：",prop:"schoolnum"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{disabled:!0},model:{value:e.form.schoolnum,callback:function(o){e.$set(e.form,"schoolnum",o)},expression:"form.schoolnum"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.schoolnum)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"班级：",prop:"classes"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.classes,callback:function(o){e.$set(e.form,"classes",o)},expression:"form.classes"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.classes)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.phone,callback:function(o){e.$set(e.form,"phone",o)},expression:"form.phone"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.phone)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.email,callback:function(o){e.$set(e.form,"email",o)},expression:"form.email"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.email)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证号：",prop:"idcard"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.idcard,callback:function(o){e.$set(e.form,"idcard",o)},expression:"form.idcard"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.idcard)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"生日：",prop:"birthday"}},[s("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{size:"large","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.birthday,callback:function(o){e.$set(e.form,"birthday",o)},expression:"form.birthday"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.birthday)}})],1),e._v(" "),s("el-form-item",{attrs:{label:"籍贯：",prop:"origin"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.origin,callback:function(o){e.$set(e.form,"origin",o)},expression:"form.origin"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.origin)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"母亲联系方式：",prop:"m_phone"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.m_phone,callback:function(o){e.$set(e.form,"m_phone",o)},expression:"form.m_phone"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.m_phone)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"父亲联系方式：",prop:"f_phone"}},[s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],model:{value:e.form.f_phone,callback:function(o){e.$set(e.form,"f_phone",o)},expression:"form.f_phone"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],domProps:{textContent:e._s(e.form.f_phone)}})],1)],1),e._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",[e.isShow&&"0"===e.has?s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]):e._e(),e._v(" "),e.isShow&&"1"===e.is_edit?s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitUpdate}},[e._v("保存")]):e._e(),e._v(" "),0===e.has?s("el-button",{on:{click:function(o){e.resetForm("form")}}},[e._v("重置")]):e._e(),e._v(" "),1===e.has&&e.isShow?s("el-button",{on:{click:function(o){e.isShow=!1}}},[e._v("取消")]):e._e(),e._v(" "),e.isShow||"1"!==e.is_edit?e._e():s("el-button",{attrs:{type:"primary"},on:{click:function(o){e.isShow=!0}}},[e._v("编辑")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(m,h,!1,function(e){s("jMCp")},"data-v-71d33e98",null);o.default=c.exports},IV4k:function(e,o,s){(e.exports=s("FZ+f")(!1)).push([e.i,"\n.el-date-editor.el-input[data-v-71d33e98] {\r\n  width: 100%;\n}\n.el-select[data-v-71d33e98] {\r\n  width: 100%;\n}\n[v-cloak][data-v-71d33e98] {\r\n  display: none;\n}\r\n",""])},jMCp:function(e,o,s){var r=s("IV4k");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("60ef2664",r,!0)}});