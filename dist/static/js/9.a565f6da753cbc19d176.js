webpackJsonp([9],{OWot:function(t,e,l){var a=l("vLxI");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);l("rjj0")("74401df0",a,!0)},juN2:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("Dd8w"),o=l.n(a),n=l("9JVh"),s=l("8Y0W"),r=l("M9A7"),i=l("NYxO"),c=l("zL8q"),m={data:function(){return{formInline:{major:"",classes:"",worknum:"",t_name:""},form:{roles:"teach",account:"",major:"",classes:"",pwd:""},options:[],sels:[],tableData:[],disabled:!1,dialogVisible:!1,deletId:"",is_edit:"1",totalCount:0,pageNum:1,pageSize:5}},methods:{getData:function(){var t=this,e=o()({pageNum:this.pageNum,pageSize:this.pageSize},this.formInline);Object(s.d)(e).then(function(e){t.totalCount=e.totalCount,t.tableData=e.result}).catch(function(t){console.log(t)})},del:function(){var t=this;Object(s.b)({l_id:this.deletId}).then(function(e){Object(c.Message)({message:e.msg,type:"success",duration:5e3}),t.dialogVisible=!1,t.getData()}).catch(function(t){console.log(t)})},addTeach:function(){var t=this,e={roles:this.form.roles.split(","),account:this.form.account,major:this.form.major,classes:this.form.classes,pwd:this.form.pwd};Object(r.d)(e).then(function(e){Object(c.Message)({message:e.msg+"请告知教师 ",type:"success",duration:5e3}),t.dialogVisible=!1,t.form.roles=t.form.roles.join(",")}).catch(function(t){console.log(t)})},resetForm:function(t){this.pageNum=1,this.pageSize=5,this.formInline.major="",this.$refs[t].resetFields(),this.getData()},handleCurrentChange:function(t){this.pageNum=t,this.getData()},handleSizeChange:function(t){this.pageSize=t,this.getData()},getMajorList:function(){var t=this;Object(n.a)().then(function(e){t.options=e.result}).catch(function(t){console.log(t)})}},mounted:function(){},created:function(){this.getMajorList(),this.getData()},computed:o()({},Object(i.b)(["l_id"]))},p={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-row",{staticClass:"m-t-20 m-r-20 m-l-20",attrs:{gutter:0}},[l("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{model:t.formInline,"label-width":"90px",inline:!0}},[l("el-col",{attrs:{span:6}},[l("el-form-item",{staticClass:"search-inputType",attrs:{prop:"classes"}},[l("el-input",{attrs:{placeholder:"班级"},model:{value:t.formInline.classes,callback:function(e){t.$set(t.formInline,"classes","string"==typeof e?e.trim():e)},expression:"formInline.classes"}},[l("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:t.formInline.major,callback:function(e){t.$set(t.formInline,"major",e)},expression:"formInline.major"}},[l("el-option",{attrs:{label:"请选择专业",value:""}}),t._v(" "),t._l(t.options,function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1)],1)],1),t._v(" "),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"姓名",prop:"s_name"}},[l("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.formInline.t_name,callback:function(e){t.$set(t.formInline,"t_name","string"==typeof e?e.trim():e)},expression:"formInline.t_name"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"工号",prop:"worknum"}},[l("el-input",{attrs:{placeholder:"请输入工号"},model:{value:t.formInline.worknum,callback:function(e){t.$set(t.formInline,"worknum","string"==typeof e?e.trim():e)},expression:"formInline.worknum"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:6}},[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:t.getData}},[t._v("搜索")]),t._v(" "),l("el-button",{on:{click:function(e){t.resetForm("formInline")}}},[t._v("重置")])],1)],1)],1)],1),t._v(" "),l("el-row",{staticClass:"m-r-20 m-l-20",attrs:{gutter:0}},[l("el-col",{staticClass:"m-b-20",attrs:{span:6}},[l("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加教师")])],1),t._v(" "),l("el-col",{attrs:{span:24}},[l("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableData,border:""}},[l("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"right","label-width":"130px",inline:""}},[l("el-form-item",{attrs:{label:"性别："}},[l("span",[t._v(t._s(e.row.sex))])]),t._v(" "),l("el-form-item",{attrs:{label:"民族："}},[l("span",[t._v(t._s(e.row.nation))])]),t._v(" "),l("el-form-item",{attrs:{label:"身份证号："}},[l("span",[t._v(t._s(e.row.idcard))])]),t._v(" "),l("el-form-item",{attrs:{label:"生日："}},[l("span",[t._v(t._s(e.row.birthday))])]),t._v(" "),l("el-form-item",{attrs:{label:"籍贯："}},[l("span",[t._v(t._s(e.row.origin))])])],1)]}}])}),t._v("--\x3e\n        "),l("el-table-column",{attrs:{prop:"fullname",label:"姓名",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{prop:"worknum",label:"工号",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{prop:"major",label:"所在专业"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{domProps:{textContent:t._s("1"===e.row.major?"网络工程":"信息管理")}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"classes",label:"所带班级"}}),t._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),l("el-table-column",{attrs:{prop:"age",label:"年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{domProps:{textContent:t._s(e.row.age+"岁")}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"age",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"danger",plain:""},on:{click:function(l){t.dialogVisible=!0,t.deletId=e.row.l_id}}},[t._v("删 除")])]}}])})],1),t._v(" "),l("div",{staticClass:"m-t-20"},[l("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("span",[t._v("确认删除？")]),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.del}},[t._v("确 定")])],1)]),t._v(" "),l("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"工号"}},[l("el-input",{model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"密码"}},[l("el-input",{model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"角色"}},[l("el-radio-group",{attrs:{disabled:!0},model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}},[l("el-radio",{attrs:{label:"student"}},[t._v("学生")]),t._v(" "),l("el-radio",{attrs:{label:"teach"}},[t._v("教师")])],1)],1),t._v(" "),l("el-form-item",{staticClass:"modal",attrs:{label:"专业：",prop:"major"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},t._l(t.options,function(t){return l("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),l("el-form-item",{attrs:{label:"班级：",prop:"classes"}},[l("el-input",{model:{value:t.form.classes,callback:function(e){t.$set(t.form,"classes",e)},expression:"form.classes"}})],1)],1),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.addTeach}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=l("VU/8")(m,p,!1,function(t){l("OWot")},"data-v-245223c8",null);e.default=u.exports},vLxI:function(t,e,l){(t.exports=l("FZ+f")(!1)).push([t.i,"\n.m-t-20[data-v-245223c8] {\r\n  margin-top: 20px;\n}\n.m-r-20[data-v-245223c8] {\r\n  margin-right: 20px;\n}\n.m-l-20[data-v-245223c8] {\r\n  margin-left: 20px;\n}\n.m-b-20[data-v-245223c8] {\r\n  margin-bottom: 20px;\n}\n.el-input .el-select[data-v-245223c8] {\r\n  width: 130px;\n}\n.modal .el-select[data-v-245223c8] {\r\n  width: 100%;\n}\r\n",""])}});